<template>
    <section id="home">
        <div class="container row">
            <div class="hero-left">
                <div class="in">
                    <h1 class="main-title">
                        Generate Cool Color Palettes
                    </h1>
                    <p class="hero-description">
                        Generate beautiful color palettes with our easy-to-use Color Palette Generator. Experiment with random palettes or select your own colors to create eye-catching designs in seconds.
                    </p>
                    <div class="buttons">
                        <button @click="generateRandomPalette" class="button btn btn-medium btn-padding-40 btn-blue">Generate Palettes</button>
                    </div>
                </div>
            </div>
            <div class="hero-right">
                <img src="@/assets/home/hero-photo.svg" alt="">
            </div>
        </div>
    </section>

    <svg class="blob-1" viewBox="0 0 440 440" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#8A3FFC" stop-opacity="1" />
            <stop offset="100%" stop-color="#0F62FE" stop-opacity="1" />
            </linearGradient>
        </defs><path d="M220,400.7300638279412C266.89264942288855,402.32840388300053,306.84513886640553,373.0736978964887,342.00444224792585,342.0044422479259C380.2504570148876,308.2075493618741,423.8642282937228,271.0348418676601,424.5218983088853,220C425.1836763942175,168.6463740815843,383.1164628890351,129.43969806165057,345.1899590378725,94.81004096212749C309.49121226207404,62.21448813764246,268.273203049465,35.81952751678079,220,33.256628251983784C169.09382827595547,30.55394059416469,119.60952562748952,47.75101385289225,80.77166329176288,80.77166329176283C38.325159532701036,116.86044460567032,-5.174243835462327,164.56086783376048,0.3582459065364674,219.99999999999994C5.706248385374555,273.590450245022,64.45084879049314,299.74154858050196,106.03847826326353,333.96152173673636C141.38076101637841,363.042572578634,174.25774834866573,399.17093518149613,220,400.7300638279412" fill="url(#gradient)" />
    </svg>

    <svg class="blob-2" viewBox="0 0 440 440" xmlns="http://www.w3.org/2000/svg">
        <path d="M220,396.01532786929357C250.27280620279538,394.73776984773895,280.8928422382752,400.60627980613975,309.39823335171184,390.3341024634118C339.74882521374025,379.39699022303444,367.42508938579033,360.86728971820133,387.5364312276421,335.642048790626C408.2571515073058,309.652477067485,426.31695128602183,278.1546314704108,425.32397023304685,244.93084366876496C424.34783299166605,212.27062676356076,398.0452394634669,187.06853771119634,382.2411755892429,158.47003814795968C368.4650598384906,133.54124493271885,358.6265102474592,106.44942937159033,337.9636508382054,86.84656383157868C316.95045582792494,66.91133472344777,289.69473730713037,56.71666870515682,263.03920798461274,45.383069070876836C232.4555224199973,32.37926624497516,202.25711906853795,9.45819014517872,169.5287634903795,15.230144043108062C136.8148400127778,20.99955270411386,110.34693772821544,47.83590768763286,92.02266260209342,75.54344829841703C75.14061446578158,101.07024437141759,84.41698558167457,135.94719264972883,71.38096725637112,163.63623548713403C56.85125414347196,194.49794791794315,12.435512753767627,211.1304710568561,12.129393263460603,245.24006132356504C11.833853990657293,278.17074304177544,50.20684412871109,297.21414232396813,69.94558210235857,323.5750862580448C88.91095961545716,348.90321280690773,98.05688715224755,384.2942503696931,126.55189222668827,398.05049347953815C155.02381760421775,411.79559463938944,188.4120071974171,397.3483887464191,220,396.01532786929357" fill="#0066ff" />
    </svg>

    <svg class="blob-3" viewBox="0 0 440 440" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#D0E2FF" stop-opacity="1" />
            <stop offset="100%" stop-color="#0F62FE" stop-opacity="1" />
            </linearGradient>
        </defs><path d="M220,418.93965601784123C237.78599061739283,413.29337862436284,239.65504733658938,386.58250773481126,254.05515001187266,374.7141062591537C262.9004486271195,367.4239113553342,275.23715205144424,362.7787703601682,286.6318689685733,364.0224245351929C307.2599653756784,366.2738379231766,326.02762133790566,392.6677955124751,345.17028178335136,384.6586897762032C360.76727793205265,378.1330560128516,352.60463800613724,351.8125366798334,355.5898572899195,335.1710628657828C357.9906730176864,321.7874188959593,352.78622963417627,305.5220586593226,361.2719995962079,294.8976739608487C371.83280538954045,281.6752953226968,405.90994892066794,288.6361312834404,406.2704671456167,271.7177406252063C406.7113861810448,251.02630265120334,362.98071349426255,248.43141324678118,362.70314025130045,227.73713944646127C362.44734745257784,208.6666910256146,396.95980250475463,206.8577104857248,405.16959469778516,189.64298582701164C411.1979136976229,177.0024890522951,412.70504672716464,155.25874362541356,400.7357881689314,147.98828021228888C380.82074174241575,135.89132235059537,347.95377473473167,160.76867058534197,331.11656603405237,144.66109886122317C318.0259796680119,132.1377903633448,352.0371633313728,106.39819643083862,341.7060010690837,91.51653679724768C332.95644543968353,78.91312340423688,305.33017194898133,105.97844383968308,295.87430736788446,93.89592018396242C280.83833419798424,74.68324005788696,311.20396014303685,23.49552853246805,286.8909091060491,21.474856350821106C258.42871105046714,19.109346084259116,262.1481024015668,82.56436468239532,234.27146232429013,88.7760709679785C215.10708214128772,93.04643857727653,219.39021092950892,46.088261062222124,200.50262707008417,40.72461647384804C186.72126678770596,36.811023340434794,178.75767046540307,59.395109606923874,169.5972856466915,70.41007453740502C161.49447403085884,80.15335361934709,158.46411301977466,93.70040073737762,149.22943404994032,102.37840440610132C141.67945652321367,109.47326204974398,129.4642873031181,109.4261801304374,121.29612944317886,115.79959074115004C113.12481648541278,122.17546319629714,108.7578112815929,132.263175923026,101.47633489533041,139.63896107813738C93.34115632171812,147.87950546425037,83.28315230093463,153.94073768409498,75.33202928959338,162.35901215470824C66.55004104917926,171.65696758818015,57.11453817865615,180.83887740031406,51.643717772732046,192.39938849557825C46.203175932493764,203.89591728680253,45.898224821805115,217.07234863439953,43.52643271560858,229.56811879745135C40.91653190951955,243.31836298455707,29.73555697741126,258.7672854806317,36.74754041912428,270.87979494959814C45.05754490172987,285.23450768093966,68.04130008704001,283.15479130006577,80.73118305731282,293.83565373252145C89.49975977563443,301.21601822258214,94.49213358129175,312.3699798656346,98.70532425716486,323.02862621495944C104.11566775719118,336.7158629036238,96.55445176044242,358.2153401008901,109.17348788235874,365.7897834674727C122.89226101068283,374.0243323756112,141.73445052464893,351.0644242839692,156.33116576143982,357.61792992316634C170.72572971469606,364.08067544578086,169.46310960055592,387.01471085427045,180.8279178722859,397.9605632213214C191.52778562238277,408.2659876454945,205.84074841196448,423.4346017237002,220,418.93965601784123" fill="url(#gradient2)" />
    </svg>

</template>

<script setup>
const { $chroma } = useNuxtApp();
const schemes = useHomeSchemes();
const count = useColorCount();

function generateRandomPalette() {
    
    if ( count.value <= 0 ) count.value = 5
    else if ( count.value >= 15 ) count.value = 15
    
    let colors;
    const randomType = randomNumber(1, 2);
    
    if ( randomType === 1 ) {
        let inputColor = $chroma.random().hex();
        colors = generatePalette(inputColor, schemes.value[Math.floor((Math.random() * schemes.value.length))], count.value);
        colors = colors.map(c => c.substring(1)).join('-');
    } else if ( randomType === 2 ) {
        colors = new Array();
        for( let i = 1; i <= count.value; i++ ) {
            colors.push($chroma.random().hex());
        }
        colors = colors.map(c => c.substring(1)).join('-');
    }

    navigateTo('/palette/'+colors);
}

function randomNumber(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min)
}

onMounted(() => {
    
})

</script>

<style scoped>
#home {
    position: relative;
    height: 600px;
    padding-top: 150px;
    z-index: 1;
}
#home > .container {
    height: 100%;
    align-items: center;
}
.hero-left {
    position: relative;
    width: 100%;
    z-index: 3;
}
.hero-left > .in {
    max-width: 432px;
}
.main-title {
    font-size: var(--font-clamp);
}
.title-line {
    display: block;
}
.hero-description {
    margin-bottom: 34px;
    color: var(--gray-3);
}
.buttons {
    
}
.buttons > .button {
    margin-bottom: 14px;
}
.buttons > .button:last-child {
    margin-bottom: 0;
}
.input-wrapper {
    position: relative;
}
.input-wrapper > input {
    
}
.input-wrapper > input:focus {
    outline: var(--blue);
    outline-offset: 3px;
    outline-width: 1px;
    outline-style: solid;
}
.input-wrapper > .input-button {
    position: absolute;
    top: 4px;
    right: 4px;
    min-width: 99px;
    height: 38px;
    line-height: 34px;
    padding: 0 18px;
    color: #fff;
    text-align: center;
    background: var(--green);
    border: none;
    border-radius: 6px;
    outline: none;
    cursor: pointer;
    transition: background var(--time-01);
    user-select: none;
}
.input-wrapper > .input-button:hover {
    background: var(--green-hover);
}
.error {
    position: absolute;
    width: 100%;
    display: flex;
    align-items: center;
    padding: 6px 12px;
    color: #fff;
    background: var(--red);
    border-radius: 8px;
    bottom: 5px;
    z-index: -1;
    opacity: 0;
    visibility: hidden;
    transition: all .5s cubic-bezier(.7,0,.2,1);
}
.show-error.error {
    opacity: 1;
    visibility: visible;
    bottom: -44px;
}
.error > img {
    width: 18px;
    height: 18px;
    margin-right: 10px;
    user-select: none;
}
.hero-right {
    position: absolute;
    top: 50%;
    transform: translate(0, -50%);
    right: -120px;
    display: block;
    width: 840px;
    z-index: -1;
}
.hero-right > img {
    width: 100%;
    user-select: none;
    pointer-events: none;
}

.blob-1 {
    position: absolute;
    top: 50%;
    left: 40px;
    transform: translate(0, -50%);
    max-width: 120px;
    width: 100%;
    animation: hueRotate 15s infinite;
}
.blob-2 {
    position: absolute;
    top: 137px;
    left: 47%;
    transform: translate(-50%, 0) rotateX(45deg);
    max-width: 140px;
    width: 100%;
}
.blob-3 {
    position: absolute;
    bottom: 137px;
    left: 42%;
    transform: translate(-50%, 0) rotateX(0);
    max-width: 140px;
    width: 100%;
    animation: hueRotate2 10s infinite;
}
.blob-1,
.blob-2,
.blob-3 {
    filter: blur(20px);
}

@keyframes hueRotate {
    from {
        filter: hue-rotate(0) blur(20px);
    }
    to {
        filter: hue-rotate(360deg) blur(20px);
    }
}
@keyframes hueRotate2 {
    from {
        filter: hue-rotate(360deg) blur(10px);
    }
    to {
        filter: hue-rotate(0) blur(10px);
    }
}
</style>